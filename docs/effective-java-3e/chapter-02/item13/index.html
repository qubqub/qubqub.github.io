<!doctype html><html id=top lang=ko dir=auto>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-8NVGGQL2KP"></script>
<script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag('js',new Date),gtag('config','G-8NVGGQL2KP')</script><meta charset=utf-8>
<meta http-equiv=x-ua-compatible content="IE=edge">
<meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no">
<meta name=robots content="index, follow">
<title>[아이템 13] clone 재정의는 주의해서 진행하라 | &lt;Qutrits/></title>
<meta name=keywords content="Java,Effective Java 3E">
<meta name=description content="실무에서 Cloneable을 구현한 클래스는 clone메서드를 public으로 제공하며, 사용자는 당연히 복제가 제대로 이뤄지리라 기대합니다. 하지만 clone메서드의 일반 규약은 허술한 부분이 있습니다.
다음은 Object 명세에서 가져온 설명입니다.
이 객체의 복사본을 생성해 반환합니다. 복사의 정확한 뜻은 그 객체를 구현한 클래스에 따라 다를 수 있지만 일반적인 의도는 다음과 같습니다. 어떤 객체 x에 대해 다음 식은 true입니다.
 x.clone() != x x.clone.getClass() == x.getClass() x.clone().equals(x)
  clone을 사용하는 방법은 굉장히 쉽습니다. Cloneable인터페이스를 구현하고 super.clone을 호출하면 됩니다.">
<meta name=author content="Qutrits">
<link rel=canonical href=https://qutrits.github.io/effective-java-3e/chapter-02/item13/>
<link crossorigin=anonymous href=/assets/css/stylesheet.min.1ee216fccac7c092a9ec6ce6dd59d9ae6371ebe70b251d136a015e7e8d22ab7b.css integrity="sha256-HuIW/MrHwJKp7Gzm3VnZrmNx6+cLJR0TagFefo0iq3s=" rel="preload stylesheet" as=style>
<script defer crossorigin=anonymous src=/assets/js/highlight.min.7680afc38aa6b15ddf158a4f3780b7b1f7dde7e91d26f073e6229bb7a0793c92.js integrity="sha256-doCvw4qmsV3fFYpPN4C3sffd5+kdJvBz5iKbt6B5PJI=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://qutrits.github.io/icon/favicon-64.webp>
<link rel=icon type=image/png sizes=16x16 href=https://qutrits.github.io/icon/favicon-16.webp>
<link rel=icon type=image/png sizes=32x32 href=https://qutrits.github.io/icon/favicon-32.webp>
<link rel=apple-touch-icon href=https://qutrits.github.io/apple-touch-icon.png>
<link rel=mask-icon href=https://qutrits.github.io/safari-pinned-tab.svg>
<meta name=theme-color content="#2e2e33">
<meta name=msapplication-TileColor content="#2e2e33">
<meta name=generator content="Hugo 0.92.2">
<link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@100;300;400;500;700;900&display=swap" rel=stylesheet>
<noscript>
<style>#theme-toggle,.top-link{display:none}</style>
<style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style>
</noscript>
<script defer src=https://developers.kakao.com/sdk/js/kakao.min.js onload="Kakao.init('b8cccaa78a75e1ff28f09a4a844b13c7')"></script><meta property="og:title" content="[아이템 13] clone 재정의는 주의해서 진행하라">
<meta property="og:description" content="실무에서 Cloneable을 구현한 클래스는 clone메서드를 public으로 제공하며, 사용자는 당연히 복제가 제대로 이뤄지리라 기대합니다. 하지만 clone메서드의 일반 규약은 허술한 부분이 있습니다.
다음은 Object 명세에서 가져온 설명입니다.
이 객체의 복사본을 생성해 반환합니다. 복사의 정확한 뜻은 그 객체를 구현한 클래스에 따라 다를 수 있지만 일반적인 의도는 다음과 같습니다. 어떤 객체 x에 대해 다음 식은 true입니다.
 x.clone() != x x.clone.getClass() == x.getClass() x.clone().equals(x)
  clone을 사용하는 방법은 굉장히 쉽습니다. Cloneable인터페이스를 구현하고 super.clone을 호출하면 됩니다.">
<meta property="og:type" content="article">
<meta property="og:url" content="https://qutrits.github.io/effective-java-3e/chapter-02/item13/"><meta property="article:section" content="effective-java-3e">
<meta property="article:published_time" content="2020-06-27T15:04:12+09:00">
<meta property="article:modified_time" content="2020-06-27T15:04:12+09:00">
<meta property="og:see_also" content="https://qutrits.github.io/effective-java-3e/chapter-11/item85/"><meta property="og:see_also" content="https://qutrits.github.io/effective-java-3e/chapter-10/item78/"><meta property="og:see_also" content="https://qutrits.github.io/effective-java-3e/chapter-09/item69/"><meta property="og:see_also" content="https://qutrits.github.io/effective-java-3e/chapter-08/item57/"><meta property="og:see_also" content="https://qutrits.github.io/effective-java-3e/chapter-07/item49/"><meta property="og:see_also" content="https://qutrits.github.io/effective-java-3e/chapter-06/item42/">
<meta name=twitter:card content="summary">
<meta name=twitter:title content="[아이템 13] clone 재정의는 주의해서 진행하라">
<meta name=twitter:description content="실무에서 Cloneable을 구현한 클래스는 clone메서드를 public으로 제공하며, 사용자는 당연히 복제가 제대로 이뤄지리라 기대합니다. 하지만 clone메서드의 일반 규약은 허술한 부분이 있습니다.
다음은 Object 명세에서 가져온 설명입니다.
이 객체의 복사본을 생성해 반환합니다. 복사의 정확한 뜻은 그 객체를 구현한 클래스에 따라 다를 수 있지만 일반적인 의도는 다음과 같습니다. 어떤 객체 x에 대해 다음 식은 true입니다.
 x.clone() != x x.clone.getClass() == x.getClass() x.clone().equals(x)
  clone을 사용하는 방법은 굉장히 쉽습니다. Cloneable인터페이스를 구현하고 super.clone을 호출하면 됩니다.">
<script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Effctive Java 3/E","item":"https://qutrits.github.io/effective-java-3e/"},{"@type":"ListItem","position":2,"name":"2장 모든 객체의 공통 메서드","item":"https://qutrits.github.io/effective-java-3e/chapter-02/"},{"@type":"ListItem","position":3,"name":"[아이템 13] clone 재정의는 주의해서 진행하라","item":"https://qutrits.github.io/effective-java-3e/chapter-02/item13/"}]}</script>
<script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"[아이템 13] clone 재정의는 주의해서 진행하라","name":"[아이템 13] clone 재정의는 주의해서 진행하라","description":"실무에서 Cloneable을 구현한 클래스는 clone메서드를 public으로 제공하며, 사용자는 당연히 복제가 제대로 이뤄지리라 기대합니다. 하지만 clone메서드의 일반 규약은 허술한 부분이 있습니다.\n다음은 Object 명세에서 가져온 설명입니다.\n이 객체의 복사본을 생성해 반환합니다. 복사의 정확한 뜻은 그 객체를 구현한 클래스에 따라 다를 수 있지만 일반적인 의도는 다음과 같습니다. 어떤 객체 x에 대해 다음 식은 true입니다.\n x.clone() != x x.clone.getClass() == x.getClass() x.clone().equals(x)\n  clone을 사용하는 방법은 굉장히 쉽습니다. Cloneable인터페이스를 구현하고 super.clone을 호출하면 됩니다.","keywords":["Java","Effective Java 3E"],"articleBody":"실무에서 Cloneable을 구현한 클래스는 clone메서드를 public으로 제공하며, 사용자는 당연히 복제가 제대로 이뤄지리라 기대합니다. 하지만 clone메서드의 일반 규약은 허술한 부분이 있습니다.\n다음은 Object 명세에서 가져온 설명입니다.\n이 객체의 복사본을 생성해 반환합니다. 복사의 정확한 뜻은 그 객체를 구현한 클래스에 따라 다를 수 있지만 일반적인 의도는 다음과 같습니다. 어떤 객체 x에 대해 다음 식은 true입니다.\n x.clone() != x x.clone.getClass() == x.getClass() x.clone().equals(x)\n  clone을 사용하는 방법은 굉장히 쉽습니다. Cloneable인터페이스를 구현하고 super.clone을 호출하면 됩니다. 이렇게 얻은 객체는 원본의 모든 필드와 동일한 값을 가지게 됩니다.\n1 2 3 4 5 6 7 8  @Override public PhoneNumber clone() { try{ return (PhoneNumber) super.class(); } catch (CloneNotSupportedException e) { throw new AssertionsError(); // 일어날 수 없는 예외다.  } }    가변 상태를 참초하지 않는 클래스용 clone 메서드\nObject의 clone은 Object를 반환하지만 공변 반환 타입을 이용해서 PhoneNumber로 반환했습니다. 이 방식으로 사용하는 클라이언트는 형변환을 따로 해줄 필요가 없습니다.\n간단했던 앞서의 구현이 클래스가 가변 객체를 참조하는 순간 문제점이 발생합니다.\n1 2 3 4 5 6 7 8 9 10 11  public class Stack { private Object[] elements; private int size = 0; private static final int DEFAULT_INITIAL_CAPACITY = 16; public Stack() { this.elements = new Object[DEFAULT_INITIAL_CAPACITY]; } ... 생략 }   clone메서드가 단순히 super.clone의 결과를 그대로 반환하면 Stack인스턴스의 size 필드는 올바른 값을 갖겠지만, elements필드는 원본 Stack 인스턴스와 똑같은 배열을 참조하게 되는 상황이 발생합니다.\nclone메서드는 사실상 생성자와 같은 효과를 냅니다. 즉 clone은 원본 객체에 아무런 변화가 없는 동시에 복제된 객체의 불변식을 보장해야 합니다.\n1 2 3 4 5 6 7 8 9 10  @Override public PhoneNumber clone() { try{ Stack result = (Stack) super.clone(); result.elements = elements.clone(); return result; } catch (CloneNotSupportedException e) { throw new AssertionsError(); } }    가변 상태를 참조하는 클래스용 clone 메서드\n","wordCount":"271","inLanguage":"ko","datePublished":"2020-06-27T15:04:12+09:00","dateModified":"2020-06-27T15:04:12+09:00","author":[{"@type":"Person","name":"Qutrits"}],"mainEntityOfPage":{"@type":"WebPage","@id":"https://qutrits.github.io/effective-java-3e/chapter-02/item13/"},"publisher":{"@type":"Organization","name":"\u003cQutrits/\u003e","logo":{"@type":"ImageObject","url":"https://qutrits.github.io/icon/favicon-64.webp"}}}</script>
</head>
<body>
<script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add('dark'):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove('dark'):window.matchMedia('(prefers-color-scheme: dark)').matches&&document.body.classList.add('dark')</script>
<header class="header header-bottom">
<nav class=nav>
<div class=logo>
<a href=https://qutrits.github.io/ accesskey=h title="Qutrits (Alt + H)"><span class=user-fa-hardware-keyboard-arrow-right></span>ssh qutrits@localhost<span class=__cursor></span></a>
<span class=logo-switches>
</span>
</div>
<div class=menu-switches>
<span class=logo-switches>
<button id=theme-toggle accesskey=t title="(Alt + T)" data-toggle=false data-animation=true><svg id="sun" enable-background="new 0 0 32 32" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g id="Layer_2"/><g id="Layer_3"/><g id="Layer_4"/><g id="Layer_5"/><g id="Layer_6"/><g id="Layer_7"/><g id="Layer_8"/><g id="Layer_9"/><g id="Layer_10"/><g id="Layer_11"/><g id="Layer_12"/><g id="Layer_13"/><g id="Layer_14"/><g id="Layer_15"/><g id="Layer_16"/><g id="Layer_17"/><g id="Layer_18"/><g id="Layer_19"><g><g><path d="M30.9 20.8c-2.2 6.1-8 10.2-14.5 10.2C7.9 31 1 24.2 1 15.8 1 8.7 5.9 2.6 12.9 1c.3-.1.7.0 1 .3.2.3.3.7.2 1-.5 1.4-.8 2.9-.8 4.4.0 7.3 6 13.2 13.4 13.2 1 0 2.1-.1 3.1-.4.3-.1.7.0 1 .3C31 20.1 31.1 20.5 30.9 20.8z" fill="#ffc10a"/></g></g></g><g id="Layer_20"/><g id="Layer_21"/><g id="Layer_22"/><g id="Layer_23"/><g id="Layer_24"/><g id="Layer_25"/><g id="Wearher"/></svg><svg id="moon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="none" stroke="currentcolor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="32" d="M256 48v48m0 320v48M403.08 108.92l-33.94 33.94M142.86 369.14l-33.94 33.94M464 256h-48M96 256H48M403.08 403.08l-33.94-33.94M142.86 142.86l-33.94-33.94"/><circle cx="256" cy="256" r="80" fill="var(--primary)" stroke="currentcolor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="32"/></svg>
</button>
</span>
<button id=menu-trigger aria-haspopup=menu aria-label="Menu Button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"><line x1="3" y1="12" x2="21" y2="12"/><line x1="3" y1="6" x2="21" y2="6"/><line x1="3" y1="18" x2="21" y2="18"/></svg>
</button>
<ul id=menu class="main-menu hidden">
<li>
<a href=https://qutrits.github.io/series-list/ title=시리즈>
<span>시리즈</span>
</a>
</li>
<li>
<a href=https://qutrits.github.io/collection/ title=모아보기>
<span>모아보기</span>
</a>
</li>
<li>
<a href=https://qutrits.github.io/archives/ title="기록 보관소">
<span>기록 보관소</span>
</a>
</li>
<li>
<a href=https://qutrits.github.io/search/ title="검색 (Alt + /)" accesskey=/>
<span>검색</span>
</a>
</li>
<li>
<a href=https://qutrits.github.io/tags/ title=태그>
<span>태그</span>
</a>
</li>
</ul>
</div>
</nav>
</header>
<script>const header_DOMReady=function(a){document.readyState==="interactive"||document.readyState==="complete"?a():document.addEventListener("DOMContentLoaded",a)};header_DOMReady(function(){let b=document.querySelector("#menu-trigger"),e=document.querySelector("#menu");b.addEventListener("click",function(){e.classList.toggle("hidden")}),document.body.addEventListener("click",function(a){b.contains(a.target)||e.classList.add("hidden")});function c(){let c=g.scrollHeight-f(a)-window.innerHeight,d=window.pageYOffset,b=d/c*100;b>100&&(b=100),a.style.width=b+"%"}function f(a){let e=a.offsetHeight,b=document.body.offsetHeight,c=a.getBoundingClientRect(),d=c.top,f=c.bottom;return Math.max(0,d>0?Math.min(e,b-d):Math.min(f,b))}const g=document.querySelector("html"),h=document.querySelector("body header"),d=document.createElement("div");d.classList.add("progress-bar-container__progress"),h.append(d);const a=document.querySelector(".progress-bar-container__progress"),i={childList:!0,subtree:!0,characterData:!0,attributes:!0};new MutationObserver(c).observe(a,i),window.addEventListener("scroll",()=>{c()})})</script><main class=main>
<article class=post-single>
<header class=post-header>
<div class=breadcrumbs data-animation=true><a href=https://qutrits.github.io/>Home</a>
&nbsp;<svg style="margin-right:-10px;vertical-align:-2px" stroke="currentcolor" fill="currentcolor" stroke-width="0" viewBox="0 0 24 24" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"/></svg><svg style="vertical-align:-2px" stroke="currentcolor" fill="currentcolor" stroke-width="0" viewBox="0 0 24 24" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"/></svg>
&nbsp;
<a href=https://qutrits.github.io/effective-java-3e/>Effctive Java 3/E</a>
&nbsp;<svg style="margin-right:-10px;vertical-align:-2px" stroke="currentcolor" fill="currentcolor" stroke-width="0" viewBox="0 0 24 24" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"/></svg><svg style="vertical-align:-2px" stroke="currentcolor" fill="currentcolor" stroke-width="0" viewBox="0 0 24 24" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"/></svg>
&nbsp;
<a href=https://qutrits.github.io/effective-java-3e/chapter-02/>2장 모든 객체의 공통 메서드</a></div>
<h1 class=post-title data-animation=true>
[아이템 13] clone 재정의는 주의해서 진행하라
</h1>
<div class=post-meta data-animation=true><span title="2020-06-27 15:04:12 +0900 KST">2020년 6월 27일</span>&nbsp;&nbsp;·&nbsp;&nbsp;<span><svg class="svg--time" aria-hidden="true" focusable="false" data-prefix="far" data-icon="clock" role="img" xmlns="http://www.w3.org/2000/svg" width="13.19" height="13.19" viewBox="0 0 512 512"><path fill="currentcolor" d="M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm0 448c-110.5.0-2e2-89.5-2e2-2e2S145.5 56 256 56s2e2 89.5 2e2 2e2-89.5 2e2-2e2 2e2zm61.8-104.4-84.9-61.7c-3.1-2.3-4.9-5.9-4.9-9.7V116c0-6.6 5.4-12 12-12h32c6.6.0 12 5.4 12 12v141.7l66.8 48.6c5.4 3.9 6.5 11.4 2.6 16.8L334.6 349c-3.9 5.3-11.4 6.5-16.8 2.6z"/></svg> 2 분 소요</span>&nbsp;&nbsp;·&nbsp;&nbsp;Qutrits&nbsp;&nbsp;|&nbsp;&nbsp;<a class=edit-post href=https://github.com/qutrits/qutrits.github.io/blob/main/content/effective-java-3e/chapter-02/Item13.md rel="noopener noreferrer" target=_blank>수정사항 제안</a>
&nbsp;&nbsp;|&nbsp;&nbsp;<span class=font-size-button>
<a id=font-size-default aria-label="글꼴 크기 재설정" title="글꼴 크기 재설정 (Alt + N)" accesskey=n><svg class="button default" viewBox="0 0 24 24"><path d="M7.20711 2.54289c.39052.39053.39052 1.02369.0 1.41422L5.41421 5.75H13.25c4.4183.0 8 3.58172 8 8 0 4.4183-3.5817 8-8 8-4.41828.0-8-3.5817-8-8 0-.552300000000001.44772-1 1-1s1 .447699999999999 1 1c0 3.3137 2.68629 6 6 6 3.3137.0 6-2.6863 6-6s-2.6863-6-6-6H5.41421l1.7929 1.79289c.39052.39053.39052 1.02371.0 1.41421C6.81658 11.3476 6.18342 11.3476 5.79289 10.9571l-3.5-3.49999c-.39052-.39053-.39052-1.02369.0-1.41422l3.5-3.5c.39053-.39052 1.02369-.39052 1.41422.0z" fill="#212121"/></svg>
</a>
&nbsp;
<a id=font-size-increase aria-label="글꼴 크기 늘리기" title="글꼴 크기 늘리기 (Alt + V)" accesskey=v><svg class="button increase" viewBox="0 0 24 24"><path d="M5.12 14 7.5 7.67 9.87 14M6.5 5 1 19H3.25l1.12-3h6.25l1.13 3H14L8.5 5h-2M18 7l-5 5.07 1.41 1.43L17 10.9V17h2V10.9l2.59 2.6L23 12.07 18 7z"/></svg>
</a>
&nbsp;
<a id=font-size-decrease aria-label="글꼴 크기 줄이기" title="글꼴 크기 줄이기 (Alt + B)" accesskey=b><svg class="button decrease" viewBox="0 0 24 24"><path d="M5.12 14 7.5 7.67 9.87 14M6.5 5 1 19H3.25l1.12-3h6.25l1.13 3H14L8.5 5h-2M18 17l5-5.07-1.41-1.43L19 13.1V7H17v6.1l-2.59-2.6L13 11.93 18 17z"/></svg>
</a>
</span>
<span class=display-font-size-info>100%</span>
<script>const postFontSize_DOMReady=function(a){document.readyState==="interactive"||document.readyState==="complete"?a():document.addEventListener("DOMContentLoaded",a)};postFontSize_DOMReady(function(){if(localStorage.getItem("post-content-font-size")){const a=document.querySelector(".main .post-single .post-content"),b=document.querySelector(".display-font-size-info"),c=document.querySelector(".aside-display-font-size-info");a.style.fontSize=localStorage.getItem("post-content-font-size")+"%",b.innerText=localStorage.getItem("post-content-font-size")+"%",c.innerText=localStorage.getItem("post-content-font-size")+"%"}else localStorage.setItem("post-content-font-size",100);const a=document.getElementById("font-size-default"),b=document.getElementById("font-size-decrease"),c=document.getElementById("font-size-increase");c.addEventListener("click",a=>{if(localStorage.getItem("post-content-font-size")){let a=parseInt(localStorage.getItem("post-content-font-size"));if(a+10>200)return;const b=document.querySelector(".main .post-single .post-content"),c=document.querySelector(".display-font-size-info"),d=document.querySelector(".aside-display-font-size-info");b.style.fontSize=a+10+"%",c.innerText=a+10+"%",d.innerText=a+10+"%",localStorage.setItem("post-content-font-size",a+10)}else _postContent.style.fontSize="105%",_displayFontSizeInfo.innerText="105%",_asideDisplayFontSizeInfo.innerText="105%",localStorage.setItem("post-content-font-size",105)}),b.addEventListener("click",a=>{if(localStorage.getItem("post-content-font-size")){let a=parseInt(localStorage.getItem("post-content-font-size"));if(a-5<50)return;const b=document.querySelector(".main .post-single .post-content"),c=document.querySelector(".display-font-size-info"),d=document.querySelector(".aside-display-font-size-info");b.style.fontSize=a-10+"%",c.innerText=a-10+"%",d.innerText=a-10+"%",localStorage.setItem("post-content-font-size",a-10)}else _postContent.style.fontSize="95%",_displayFontSizeInfo.innerText="95%",_asideDisplayFontSizeInfo.innerText="95%",localStorage.setItem("post-content-font-size",95)}),a.addEventListener("click",d=>{const a=document.querySelector(".main .post-single .post-content"),b=document.querySelector(".display-font-size-info"),c=document.querySelector(".aside-display-font-size-info");a.style.fontSize="100%",b.innerText="100%",c.innerText="100%",localStorage.setItem("post-content-font-size",100)})})</script>
<ul class=post-tags>
<li><a class=button href=https://qutrits.github.io/tags/java/ title=Java>Java</a></li>
<li><a class=button href=https://qutrits.github.io/tags/effective-java-3e/ title="Effective Java 3E">Effective Java 3E</a></li>
</ul></div>
</header>
<script>const series_DOMReady=function(a){document.readyState==="interactive"||document.readyState==="complete"?a():document.addEventListener("DOMContentLoaded",a)}</script>
<div class=series-main data-animation=true>
<div class=chapter-control>
<div class=info>
<div class=chapter-number>2 / 11</div>
<div class=page-button style=scroll-behavior:smooth>
<div class="button chapter">
<a href=/effective-java-3e/chapter-01/item01/ aria-label="1 장" accesskey=1 title="[1장] (Alt + 1)
객체 생성과 파괴">
1 장
</a>
</div>
<div class="button chapter current">
<a href=/effective-java-3e/chapter-02/item10/ aria-label="2 장" accesskey=2 title="[2장] (Alt + 2)
모든 객체의 공통 메서드">
2 장
</a>
</div>
<div class="button chapter">
<a href=/effective-java-3e/chapter-03/item15/ aria-label="3 장" accesskey=3 title="[3장] (Alt + 3)
클래스와 인터페이스">
3 장
</a>
</div>
<div class="button chapter">
<a href=/effective-java-3e/chapter-04/item26/ aria-label="4 장" accesskey=4 title="[4장] (Alt + 4)
제네릭">
4 장
</a>
</div>
<div class="button chapter">
<a href=/effective-java-3e/chapter-05/item34/ aria-label="5 장" accesskey=5 title="[5장] (Alt + 5)
열거 타입과 애너테이션">
5 장
</a>
</div>
<div class="button chapter">
<a href=/effective-java-3e/chapter-06/item42/ aria-label="6 장" accesskey=6 title="[6장] (Alt + 6)
람다와 스트림">
6 장
</a>
</div>
<div class="button chapter">
<a href=/effective-java-3e/chapter-07/item49/ aria-label="7 장" accesskey=7 title="[7장] (Alt + 7)
메서드">
7 장
</a>
</div>
<div class="button chapter">
<a href=/effective-java-3e/chapter-08/item57/ aria-label="8 장" accesskey=8 title="[8장] (Alt + 8)
일반적인 프로그래밍 원칙">
8 장
</a>
</div>
<div class="button chapter">
<a href=/effective-java-3e/chapter-09/item69/ aria-label="9 장" accesskey=9 title="[9장] (Alt + 9)
예외">
9 장
</a>
</div>
<div class="button chapter">
<a href=/effective-java-3e/chapter-10/item78/ aria-label="10 장" accesskey=10 title="[10장] (Alt + 10)
동시성">
10 장
</a>
</div>
<div class="button chapter">
<a href=/effective-java-3e/chapter-11/item85/ aria-label="11 장" accesskey=11 title="[11장] (Alt + 11)
직렬화">
11 장
</a>
</div>
</div>
</div>
</div>
<h2><a href=/chapter/effective-java-3e-chapter-02/>Effective Java 3E - 2장 모든 객체의 공통 메서드</a></h2><svg width="32" height="48" viewBox="0 0 32 48" class="series-corner-image"><path d="M32 0H0v48h.163l16-16L32 47.836V0z"/></svg>
<div class="series-main-description abstracted">Object는 객체를 만들 수 있는 구체 클래스지만 기본적으로는 상속해서 사용하도록 설계되었다. Object에서 final이 아닌 메서드(equals, hashCode, toString, clone, finalize)는 모두 재정의(overriding)를 염두에 두고 설계된 것이라 재정의 시 지켜야 하는 일반 규약이 명확히 정의되어 있다. 그래서 Object를 상속하는 클래스, 즉 모든 클랙스는 이 메서드들을 일반 규약에 맞게 재정의해야 한다. 메서드를 잘못 구현하면 대상 클래스가 이 규약을 준수한다고 가정 하는 클래스(HashMap과 HashSet 등)를 오작동하게 만들 수 있다. 이번 장에서는 final이 아닌 Object 메서드들을 언제 어떻게 재정의해야 하는지를 다룬다. 그중 finalize 메서드는 아이템 8에서 다뤘으니 더 이상 언급하지 않는다. Comparable.compareTo의 경우 Object의 메서드는 아니지만 성격이 비슷하여 이번 장에서 함께 다룬다.</div>
<ol class=series-list>
<li hugo-nav=/effective-java-3e/chapter-02/item10/ class="button custom-button">
<a href=/effective-java-3e/chapter-02/item10/>[아이템 10] equals는 일반 규약을 지켜 재정의하라</a>
</li>
<li hugo-nav=/effective-java-3e/chapter-02/item11/ class="button custom-button">
<a href=/effective-java-3e/chapter-02/item11/>[아이템 11] equals를 재정의하려거든 hashCode도 재정의하라</a>
</li>
<li hugo-nav=/effective-java-3e/chapter-02/item12/ class="button custom-button">
<a href=/effective-java-3e/chapter-02/item12/>[아이템 12] toString을 항상 재정의하라</a>
</li>
<li hugo-nav=/effective-java-3e/chapter-02/item13/ class="button custom-button">
<a href=/effective-java-3e/chapter-02/item13/ class=current><i class=user-fa-hardware-keyboard-arrow-right aria-hidden=true></i>[아이템 13] clone 재정의는 주의해서 진행하라<span class=__cursor></span></a>
</li>
<li hugo-nav=/effective-java-3e/chapter-02/item14/ class="button custom-button">
<a href=/effective-java-3e/chapter-02/item14/>[아이템 14] Comparable를 구현할지 고려하라</a>
</li>
</ol>
<div class=series-control>
<div class=toggle aria-label="시리즈 목록 토글" accesskey=w title="Lock / Unlock (Alt + W)"><svg class="lock" width="28" height="28" viewBox="0 0 512 512"><path d="M363.908 212.282v-90.978C363.908 54.434 309.509.0 242.606.0c-66.884.0-121.302 54.434-121.302 121.304v90.978c-33.498.0-60.653 27.158-60.653 60.648v151.629c0 33.5 27.155 60.653 60.653 60.653h242.604c33.491.0 60.653-27.153 60.653-60.653V272.93C424.562 239.439 397.399 212.282 363.908 212.282zM257.77 359.257v50.139c0 8.382-6.781 15.163-15.163 15.163s-15.164-6.781-15.164-15.163v-50.139c-8.9-5.269-15.161-14.57-15.161-25.673.0-16.765 13.579-30.327 30.324-30.327s30.326 13.562 30.326 30.327C272.933 344.687 266.665 353.989 257.77 359.257zm45.485-146.975h-121.3v-90.978c0-33.465 27.2-60.653 60.651-60.653 33.435.0 60.648 27.188 60.648 60.653v90.978z"/></svg><svg class="unlock" width="28" height="28" viewBox="0 0 512 512"><path d="M424.562 212.282h-60.653H242.607v-90.978C242.607 54.434 188.206.0 121.305.0 54.419.0.001 54.434.001 121.304v90.978h60.651v-90.978c0-33.465 27.205-60.653 60.653-60.653 33.435.0 60.651 27.188 60.651 60.653v90.978c-33.493.0-60.651 27.158-60.651 60.648v151.629c0 33.5 27.158 60.653 60.651 60.653h242.606c33.491.0 60.649-27.153 60.649-60.653V272.93C485.212 239.439 458.054 212.282 424.562 212.282zM318.424 359.257v50.139c0 8.382-6.786 15.163-15.168 15.163-8.377.0-15.158-6.781-15.158-15.163v-50.139c-8.887-5.269-15.164-14.57-15.164-25.673.0-16.765 13.562-30.327 30.322-30.327 16.765.0 30.331 13.562 30.331 30.327.0 11.103-6.28100000000001 20.405-15.163 25.673z"/></svg>
</div>
<div class=info>
<div class=series-number>
4 / 5
</div>
<div class=page-button>
<div class=left>
<a class=button href=/effective-java-3e/chapter-02/item12/ aria-label="이전 페이지" accesskey=, title="[이전 페이지] (Alt + <)
[아이템 12] toString을 항상 재정의하라"><svg stroke="currentcolor" fill="currentcolor" stroke-width="0" viewBox="0 0 24 24" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M15.41 7.41 14 6l-6 6 6 6 1.41-1.41L10.83 12z"/></svg>
</a>
</div>
<div class=right>
<a class=button href=/effective-java-3e/chapter-02/item14/ aria-label="다음 페이지" accesskey=. title="[다음 페이지] (Alt + >)
[아이템 14] Comparable를 구현할지 고려하라"><svg stroke="currentcolor" fill="currentcolor" stroke-width="0" viewBox="0 0 24 24" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"/></svg>
</a>
</div>
</div>
</div>
</div>
</div>
<script>series_DOMReady(function(){const d=localStorage.getItem("lock-series-Effective Java 3E Chapter 02"),c=document.querySelector(".series-main .series-list"),b=document.querySelector(".series-main .series-control .toggle"),a=document.querySelector(".series-main .chapter-control .info .page-button"),h=(a,b)=>b==="vertical"?a.scrollHeight===0&&a.clientHeight===0||a.scrollHeight>a.clientHeight:b==="horizontal"?a.scrollWidth===0&&a.clientWidth===0||a.scrollWidth>a.clientWidth:(a.scrollHeight===0&&a.clientHeight===0||a.scrollHeight>a.clientHeight)&&(a.scrollWidth===0&&a.clientWidth===0||a.scrollWidth>a.clientWidth);a.scrollWidth>a.clientWidth&&(a.querySelector(".current").scrollIntoViewIfNeeded(!0),a.scrollLeft<=5?(a.classList.remove("linear-gradient-both","linear-gradient-left"),a.classList.add("linear-gradient-right")):a.scrollWidth-a.clientWidth-5<=a.scrollLeft?(a.classList.remove("linear-gradient-both","linear-gradient-right"),a.classList.add("linear-gradient-left")):(a.classList.remove("linear-gradient-left","linear-gradient-right"),a.classList.add("linear-gradient-both"))),a.addEventListener?(a.addEventListener("mousewheel",e,!1),a.addEventListener("DOMMouseScroll",e,!1)):a.attachEvent("onmousewheel",e);function e(c){if(!h(a,"horizontal"))return;let b=window.event||c;b.preventDefault();let d=Math.max(-1,Math.min(1,b.wheelDelta||-b.detail));return i(a,"horizontal",a.scrollLeft-=d*500,0),!1}const i=(a,b,c,d)=>{const e=b==="vertical"?a.scrollTop:a.scrollLeft,f=c-e,i=+new Date,g=(d,b,c,e)=>{let a=d;return a/=e/2,a<1?c/2*a*a+b:(a-=1,-c/2*(a*(a-2)-1)+b)},h=()=>{const k=+new Date,j=k-i;b==="vertical"?a.scrollTop=parseInt(g(j,e,f,d),10):a.scrollLeft=parseInt(g(j,e,f,d),10),j<d?requestAnimationFrame(h):b==="vertical"?a.scrollTop=c:a.scrollLeft=c};h()};if(window.addEventListener("resize",b=>{a.scrollWidth>a.clientWidth?a.scrollLeft<=5?(a.classList.remove("linear-gradient-both","linear-gradient-left"),a.classList.add("linear-gradient-right")):a.scrollWidth-a.clientWidth-5<=a.scrollLeft?(a.classList.remove("linear-gradient-both","linear-gradient-right"),a.classList.add("linear-gradient-left")):(a.classList.remove("linear-gradient-left","linear-gradient-right"),a.classList.add("linear-gradient-both")):a.classList.remove("linear-gradient-both","linear-gradient-left","linear-gradient-right")}),a.addEventListener("scroll",b=>{a.scrollLeft<=5?(a.classList.remove("linear-gradient-both","linear-gradient-left"),a.classList.add("linear-gradient-right")):a.scrollWidth-a.clientWidth-5<=a.scrollLeft?(a.classList.remove("linear-gradient-both","linear-gradient-right"),a.classList.add("linear-gradient-left")):(a.classList.remove("linear-gradient-left","linear-gradient-right"),a.classList.add("linear-gradient-both"))}),localStorage.getItem("series-main-")==="true"){const a=document.querySelector(".series-main"),b=a.getBoundingClientRect();window.scrollTo(0,b.top),localStorage.removeItem("series-main-")}document.querySelector(".series-main .series-control .toggle").addEventListener("click",()=>{d,c.style.display==="none"||c.style.display===""?(localStorage.setItem("lock-series-Effective Java 3E Chapter 02",!1),b.querySelector(".lock").classList.add("hide"),b.querySelector(".unlock").classList.remove("hide"),c.style.display="block"):c.style.display==="block"&&(localStorage.setItem("lock-series-Effective Java 3E Chapter 02",!0),b.querySelector(".lock").classList.remove("hide"),b.querySelector(".unlock").classList.add("hide"),c.style.display="none")});const f=document.querySelector(".series-main-description");f&&f.addEventListener("click",a=>{a.target.classList.contains("abstracted")?(a.target.classList.remove("abstracted"),a.target.classList.add("zoom-out")):(a.target.classList.remove("zoom-out"),a.target.classList.add("abstracted"))}),d==="false"?(c.style.display="block",b.querySelector(".lock").classList.add("hide"),b.querySelector(".unlock").classList.remove("hide")):d==="true"?(c.style.display="none",b.querySelector(".lock").classList.remove("hide"),b.querySelector(".unlock").classList.add("hide")):(c.style.display="block",b.querySelector(".lock").classList.add("hide"),b.querySelector(".unlock").classList.remove("hide"));const g=[...document.querySelectorAll(".chapter-control .page-button a:not(.disabled)"),...document.querySelectorAll(".series-main .series-list li a"),...document.querySelectorAll(".series-control .page-button a:not(.disabled)")];for(let a=0;a<g.length;a++)g[a].addEventListener("click",a=>{localStorage.setItem("series-main-",!0)})})</script>
<div class=aside-share-buttons-wrapper data-animation=true>
<div class=share-buttons>
<div class="aside-share-control-buttons button" aria-label=공유하기 title=공유하기><svg width="18" height="18" viewBox="0 0 24 24" class="aside-share-control-buttons-svg"><path class="aside-share-control-buttons-path" d="M5 7c2.761.0 5 2.239 5 5s-2.239 5-5 5-5-2.239-5-5 2.239-5 5-5zm11.122 12.065c-.073.301-.122.611-.122.935.0 2.209 1.791 4 4 4s4-1.791 4-4-1.791-4-4-4c-1.165.0-2.204.506-2.935 1.301l-5.488-2.927c-.23.636-.549 1.229-.943 1.764l5.488 2.927zM24 4c0-2.209-1.791-4-4-4s-4 1.791-4 4c0 .324.049.634.122.935l-5.488 2.927c.395.535.713 1.127.943 1.764l5.488-2.927C17.796 7.494 18.835 8 20 8c2.209.0 4-1.791 4-4z"/></svg>
</div>
<a target=_blank rel="noopener noreferrer" class=copylink-aside id=copylink-aside aria-label="share [아이템 13] clone 재정의는 주의해서 진행하라 on copylink-aside" title="게시물 링크 복사하기"></a>
<a target=_blank rel="noopener noreferrer" class=kakaotalk id=kakaotalk-share-aside aria-label="share [아이템 13] clone 재정의는 주의해서 진행하라 on kakaotalk" title="카카오톡 공유하기"><svg viewBox="0 0 24 24" class="button custom-button"><path d="M22.125.0H1.875C.8394.0.0.8394.0 1.875v20.25C0 23.1606.8394 24 1.875 24h20.25C23.1606 24 24 23.1606 24 22.125V1.875C24 .8394 23.1606.0 22.125.0zM12 18.75c-.591.0-1.1697-.0413-1.7317-.1209-.5626.3965-3.813 2.6797-4.1198 2.7225.0.0-.1258.0489-.2328-.0141s-.0876-.2282-.0876-.2282c.0322-.2198.8426-3.0183.992-3.5333-2.7452-1.36-4.5701-3.7686-4.5701-6.5135C2.25 6.8168 6.6152 3.375 12 3.375s9.75 3.4418 9.75 7.6875S17.3848 18.75 12 18.75zM8.0496 9.8672h-.8777v3.3417c0 .2963-.2523.5372-.5625.5372s-.5625-.2409-.5625-.5372V9.8672h-.8777c-.3044.0-.552-.2471-.552-.5508s.2477-.5508.552-.5508h2.8804c.3044.0.552.2471.552.5508s-.2477.5508-.552.5508zm10.9879 2.9566a.558.558.0 01.108.4167.5588.5588.0 01-.2183.371.5572.5572.0 01-.3383.1135.558.558.0 01-.4493-.2236l-1.3192-1.7479-.1952.1952v1.2273a.5635.5635.0 01-.5627.5628.563.563.0 01-.5625-.5625V9.3281c0-.3102.2523-.5625.5625-.5625s.5625.2523.5625.5625v1.209l1.5694-1.5694c.0807-.0807.1916-.1252.312-.1252.1404.0.2814.0606.3871.1661.0985.0984.1573.2251.1654.3566.0082.1327-.036.2542-.1241.3425l-1.2818 1.2817 1.3845 1.8344zm-8.3502-3.5023c-.095-.2699-.3829-.5475-.7503-.5557-.3663.0083-.6542.2858-.749.5551l-1.3455 3.5415c-.1708.5305-.0217.7272.1333.7988a.8568.8568.0 00.3576.0776c.2346.0.4139-.0952.4678-.2481l.2787-.7297 1.7152 1e-4.2785.7292c.0541.1532.2335.2484.4681.2484a.8601.8601.0 00.3576-.0775c.1551-.0713.3041-.2681.1329-.7999l-1.3449-3.5398zm-1.3116 2.4433.5618-1.5961.5618 1.5961H9.3757zm5.9056 1.3836c0 .2843-.2418.5156-.5391.5156h-1.8047c-.2973.0-.5391-.2314-.5391-.5156V9.3281c0-.3102.2576-.5625.5742-.5625s.5742.2523.5742.5625v3.3047h1.1953c.2974.0.5392.2314.5392.5156z"/></svg>
</a>
<a target=_blank rel="noopener noreferrer" class=kakaostory aria-label="share [아이템 13] clone 재정의는 주의해서 진행하라 on kakaostory" title="카카오 스토리 공유하기" href="https://story.kakao.com/share?url=https%3a%2f%2fqutrits.github.io%2feffective-java-3e%2fchapter-02%2fitem13%2f"><svg viewBox="0 0 16.226 16.226" class="button custom-button"><g><path d="M16.226 14.929c0 .71582-.58099 1.2968-1.2988 1.2968h-13.63c-.71582.0-1.2968-.58098-1.2968-1.2968V1.297C4e-4.58118.58139 2e-4 1.2972 2e-4h13.63c.7178.0 1.2988.58099 1.2988 1.2968z"/></g><path style="fill:var(--theme)" d="M10.749 7.4795V3.6307H5.4765v5.2765h2.439c-.232 1.3424-1.0351 2.3775-1.8619 2.9624l1.5348 1.5229c1.9056-1.279 3.1607-3.4463 3.1607-5.913"/></svg>
</a>
<a target=_blank rel="noopener noreferrer" class=naverblog aria-label="share [아이템 13] clone 재정의는 주의해서 진행하라 on naverblog" title="네이버 블로그/카페 공유하기" href="https://share.naver.com/web/shareView.nhn?url=https%3a%2f%2fqutrits.github.io%2feffective-java-3e%2fchapter-02%2fitem13%2f&title=%5b%ec%95%84%ec%9d%b4%ed%85%9c%2013%5d%20clone%20%ec%9e%ac%ec%a0%95%ec%9d%98%eb%8a%94%20%ec%a3%bc%ec%9d%98%ed%95%b4%ec%84%9c%20%ec%a7%84%ed%96%89%ed%95%98%eb%9d%bc"><svg viewBox="0 0 24 24" class="button custom-button"><path d="M1.6.0S0 0 0 1.6v20.8S0 24 1.6 24h20.8s1.6.0 1.6-1.6V1.6S24 0 22.4.0zm3.415 5.6h4.78l4.425 6.458V5.6h4.765v12.8h-4.78L9.78 11.943V18.4H5.015z"/></svg>
</a>
<a target=_blank rel="noopener noreferrer" class=naverband aria-label="share [아이템 13] clone 재정의는 주의해서 진행하라 on naverband" title="네이버 밴드 공유하기" href="https://band.us/plugin/share?url=https%3a%2f%2fqutrits.github.io%2feffective-java-3e%2fchapter-02%2fitem13%2f&title=%5b%ec%95%84%ec%9d%b4%ed%85%9c%2013%5d%20clone%20%ec%9e%ac%ec%a0%95%ec%9d%98%eb%8a%94%20%ec%a3%bc%ec%9d%98%ed%95%b4%ec%84%9c%20%ec%a7%84%ed%96%89%ed%95%98%eb%9d%bc"><svg viewBox="0 0 79.375 79.374" class="button custom-button"><path d="M147.5 684.67c-20.294.0-36.747-16.452-36.747-36.746v-104c0-20.295 16.453-36.747 36.747-36.747h104c20.295.0 36.747 16.452 36.747 36.747v104c0 20.294-16.452 36.746-36.747 36.746z" transform="matrix(.4472 0 0 -.4472 -49.529 306.18)"/><g clip-path="url(#b)" transform="matrix(.4472 0 0 -.4472 -49.529 306.18)"><path style="fill:var(--theme)" d="M186.89 582.48c0 6.966 5.647 12.614 12.614 12.614 6.966.0 12.614-5.648 12.614-12.614s-5.648-12.613-12.614-12.613c-6.967.0-12.614 5.647-12.614 12.613m12.614-43.152c-23.832.0-43.152 19.32-43.152 43.152v58.587c0 6.325 5.127 11.452 11.452 11.452 6.324.0 11.452-5.127 11.452-11.452V582.48c0-11.183 9.065-20.248 20.248-20.248 11.182.0 20.248 9.065 20.248 20.248s-9.066 20.249-20.248 20.249c-4.77.0-9.154-1.651-12.614-4.41v9.031c3.788 1.926 8.073 3.013 12.614 3.013 15.399.0 27.883-12.484 27.883-27.883s-12.484-27.883-27.883-27.883c-15.4.0-27.883 12.484-27.883 27.883v58.587c0 2.108-1.709 3.817-3.817 3.817s-3.818-1.709-3.818-3.817V582.48c0-19.616 15.902-35.517 35.518-35.517 19.615.0 35.517 15.901 35.517 35.517s-15.902 35.518-35.517 35.518c-4.443.0-8.694-.817-12.614-2.308v8.066c3.99 1.219 8.225 1.876 12.614 1.876 23.832.0 43.152-19.319 43.152-43.152.0-23.832-19.32-43.152-43.152-43.152m0 93.939c-4.355.0-8.581-.55-12.614-1.581v9.381c0 10.541-8.545 19.087-19.086 19.087s-19.087-8.546-19.087-19.087V582.48c0-28.048 22.738-50.786 50.787-50.786s50.786 22.738 50.786 50.786c0 28.049-22.737 50.787-50.786 50.787"/></g></svg>
</a>
<a target=_blank rel="noopener noreferrer" class=twitter aria-label="share [아이템 13] clone 재정의는 주의해서 진행하라 on twitter" title="트위터 공유하기" href="https://twitter.com/intent/tweet/?text=%5b%ec%95%84%ec%9d%b4%ed%85%9c%2013%5d%20clone%20%ec%9e%ac%ec%a0%95%ec%9d%98%eb%8a%94%20%ec%a3%bc%ec%9d%98%ed%95%b4%ec%84%9c%20%ec%a7%84%ed%96%89%ed%95%98%eb%9d%bc&url=https%3a%2f%2fqutrits.github.io%2feffective-java-3e%2fchapter-02%2fitem13%2f&hashtags=Java%2cEffectiveJava3E"><svg viewBox="0 0 512 512" class="button custom-button"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM195.519 424.544c135.939.0 210.268-112.643 210.268-210.268.0-3.218.0-6.437-.153-9.502 14.406-10.421 26.973-23.448 36.935-38.314-13.18 5.824-27.433 9.809-42.452 11.648 15.326-9.196 26.973-23.602 32.49-40.92-14.252 8.429-30.038 14.56-46.896 17.931-13.487-14.406-32.644-23.295-53.946-23.295-40.767.0-73.87 33.104-73.87 73.87.0 5.824.613 11.494 1.992 16.858-61.456-3.065-115.862-32.49-152.337-77.241-6.284 10.881-9.962 23.601-9.962 37.088.0 25.594 13.027 48.276 32.95 61.456-12.107-.307-23.448-3.678-33.41-9.196v.92c0 35.862 25.441 65.594 59.311 72.49-6.13 1.686-12.72 2.606-19.464 2.606-4.751.0-9.348-.46-13.946-1.38 9.349 29.426 36.628 50.728 68.965 51.341-25.287 19.771-57.164 31.571-91.8 31.571-5.977.0-11.801-.306-17.625-1.073 32.337 21.15 71.264 33.41 112.95 33.41z"/></svg>
</a>
<a target=_blank rel="noopener noreferrer" class=facebook aria-label="share [아이템 13] clone 재정의는 주의해서 진행하라 on facebook" title="페이스북 공유하기" href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fqutrits.github.io%2feffective-java-3e%2fchapter-02%2fitem13%2f"><svg viewBox="0 0 512 512" class="button custom-button"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg>
</a>
<a target=_blank rel="noopener noreferrer" class=telegram aria-label="share [아이템 13] clone 재정의는 주의해서 진행하라 on telegram" title="텔레그램 공유하기" href="https://telegram.me/share/url?text=%5b%ec%95%84%ec%9d%b4%ed%85%9c%2013%5d%20clone%20%ec%9e%ac%ec%a0%95%ec%9d%98%eb%8a%94%20%ec%a3%bc%ec%9d%98%ed%95%b4%ec%84%9c%20%ec%a7%84%ed%96%89%ed%95%98%eb%9d%bc&url=https%3a%2f%2fqutrits.github.io%2feffective-java-3e%2fchapter-02%2fitem13%2f"><svg viewBox="2 2 28 28" class="button custom-button"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47 3.38 3.38.0 01-2.51 1.02zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg>
</a>
</div>
</div>
<script>const asideShareIcons_DOMReady=function(a){document.readyState==="interactive"||document.readyState==="complete"?a():document.addEventListener("DOMContentLoaded",a)};asideShareIcons_DOMReady(function(){let c=0;const f=document.querySelector(".post-content"),a=document.querySelector(".share-buttons"),d=document.querySelector(".aside-share-buttons-wrapper"),b=document.getElementById("copylink-aside");g(),document.body.addEventListener("click",function(b){if(b.target.classList[0]==="aside-share-control-buttons"||b.target.classList[0]==="aside-share-control-buttons-svg"||b.target.classList[0]==="aside-share-control-buttons-path")return;a.classList.contains("reveal")&&(a.classList.remove("reveal"),a.classList.add("hide"))}),window.addEventListener("scroll",()=>{c=window.pageYOffset,c>=f.offsetTop-25?d.classList.add("fixed"):d.classList.remove("fixed")}),document.querySelector(".aside-share-control-buttons").addEventListener("click",()=>{a.classList.contains("reveal")?(a.classList.remove("reveal"),a.classList.add("hide")):(a.classList.remove("hide"),a.classList.add("reveal"))}),document.getElementById("kakaotalk-share-aside").addEventListener("click",()=>{Kakao.Link.sendDefault({objectType:"feed",content:{title:'[아이템 13] clone 재정의는 주의해서 진행하라',description:'Java,EffectiveJava3E',imageUrl:'https://qutrits.github.io/icon/favicon.png',link:{mobileWebUrl:'https://qutrits.github.io/effective-java-3e/chapter-02/item13/',webUrl:'https://qutrits.github.io/effective-java-3e/chapter-02/item13/'}},success:function(a){},fail:function(a){}})});function g(){b.innerHTML='\u003csvg width=\u002230px\u0022 height=\u002230px\u0022 viewBox=\u00220 0 24 24\u0022 class=\u0022button custom-button\u0022\u003e\u003cpath d=\u0022M21.586 10.461l-10.05 10.075c-1.95 1.949-5.122 1.949-7.071 0s-1.95-5.122 0-7.072l10.628-10.585c1.17-1.17 3.073-1.17 4.243 0 1.169 1.17 1.17 3.072 0 4.242l-8.507 8.464c-.39.39-1.024.39-1.414 0s-.39-1.024 0-1.414l7.093-7.05-1.415-1.414-7.093 7.049c-1.172 1.172-1.171 3.073 0 4.244s3.071 1.171 4.242 0l8.507-8.464c.977-.977 1.464-2.256 1.464-3.536 0-2.769-2.246-4.999-5-4.999-1.28 0-2.559.488-3.536 1.465l-10.627 10.583c-1.366 1.368-2.05 3.159-2.05 4.951 0 3.863 3.13 7 7 7 1.792 0 3.583-.684 4.95-2.05l10.05-10.075-1.414-1.414z\u0022\u003e\u003c/path\u003e\u003c/svg\u003e',b.addEventListener("click",()=>{if('clipboard'in navigator){navigator.clipboard.writeText('https://qutrits.github.io/effective-java-3e/chapter-02/item13/'),e();return}const a=document.createRange();a.selectNodeContents('https://qutrits.github.io/effective-java-3e/chapter-02/item13/');const b=window.getSelection();b.removeAllRanges(),b.addRange(a);try{document.execCommand('copy'),e()}catch(a){}b.removeRange(a)})}function e(){b.innerHTML='\u003csvg aria-hidden=\u0022true\u0022 width=\u002230px\u0022 height=\u002230px\u0022 viewBox=\u00220 0 16 16\u0022 version=\u00221.1\u0022 data-view-component=\u0022true\u0022 class=\u0022octicon-check\u0022\u003e\u003cpath fill-rule=\u0022evenodd\u0022 d=\u0022M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z\u0022\u003e\u003c/path\u003e\u003c/svg\u003e',setTimeout(()=>{b.innerHTML='\u003csvg width=\u002230px\u0022 height=\u002230px\u0022 viewBox=\u00220 0 24 24\u0022 class=\u0022button custom-button\u0022\u003e\u003cpath d=\u0022M21.586 10.461l-10.05 10.075c-1.95 1.949-5.122 1.949-7.071 0s-1.95-5.122 0-7.072l10.628-10.585c1.17-1.17 3.073-1.17 4.243 0 1.169 1.17 1.17 3.072 0 4.242l-8.507 8.464c-.39.39-1.024.39-1.414 0s-.39-1.024 0-1.414l7.093-7.05-1.415-1.414-7.093 7.049c-1.172 1.172-1.171 3.073 0 4.244s3.071 1.171 4.242 0l8.507-8.464c.977-.977 1.464-2.256 1.464-3.536 0-2.769-2.246-4.999-5-4.999-1.28 0-2.559.488-3.536 1.465l-10.627 10.583c-1.366 1.368-2.05 3.159-2.05 4.951 0 3.863 3.13 7 7 7 1.792 0 3.583-.684 4.95-2.05l10.05-10.075-1.414-1.414z\u0022\u003e\u003c/path\u003e\u003c/svg\u003e'},500)}})</script>
<div class=post-content data-animation=true><p>실무에서 <code>Cloneable</code>을 구현한 클래스는 <code>clone</code>메서드를 <code>public</code>으로 제공하며, 사용자는 당연히 복제가 제대로 이뤄지리라 기대합니다. 하지만 <code>clone</code>메서드의 일반 규약은 허술한 부분이 있습니다.</p>
<p>다음은 <code>Object</code> 명세에서 가져온 설명입니다.</p>
<p>이 객체의 복사본을 생성해 반환합니다. <span style=font-family:Roboto;font-size:1em;color:var(--main-color);font-weight:600;border:none;border-radius:0;padding:0>복사</span>의 정확한 뜻은 그 객체를 구현한 클래스에 따라 다를 수 있지만 일반적인 의도는 다음과 같습니다. 어떤 객체 <code>x</code>에 대해 다음 식은 <code>true</code>입니다.</p>
<ul>
<li><span style=font-family:cascadiacode;font-size:1em;color:var(--main-color);font-weight:600;border:none;border-radius:0;padding:0>x.clone() != x</span></li>
<li><span style=font-family:cascadiacode;font-size:1em;color:var(--main-color);font-weight:600;border:none;border-radius:0;padding:0>x.clone.getClass() == x.getClass()</span></li>
<li><span style=font-family:cascadiacode;font-size:1em;color:var(--main-color);font-weight:600;border:none;border-radius:0;padding:0>x.clone().equals(x)</span><br>
<br><br>
<br></li>
</ul>
<p><code>clone</code>을 사용하는 방법은 굉장히 쉽습니다. <code>Cloneable</code>인터페이스를 구현하고 <code>super.clone</code>을 호출하면 됩니다. 이렇게 얻은 객체는 원본의 모든 필드와 동일한 값을 가지게 됩니다.</p>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=nd>@Override</span>
<span class=kd>public</span> <span class=n>PhoneNumber</span> <span class=nf>clone</span><span class=o>()</span> <span class=o>{</span>
    <span class=k>try</span><span class=o>{</span>
        <span class=k>return</span> <span class=o>(</span><span class=n>PhoneNumber</span><span class=o>)</span> <span class=kd>super</span><span class=o>.</span><span class=na>class</span><span class=o>();</span>
    <span class=o>}</span> <span class=k>catch</span> <span class=o>(</span><span class=n>CloneNotSupportedException</span> <span class=n>e</span><span class=o>)</span> <span class=o>{</span>
        <span class=k>throw</span> <span class=k>new</span> <span class=n>AssertionsError</span><span class=o>();</span> <span class=c1>// 일어날 수 없는 예외다.
</span><span class=c1></span>    <span class=o>}</span>
<span class=o>}</span>
</code></pre></td></tr></table>
</div>
</div><p><i class=user-fa-action-info-outline aria-hidden=true></i> <em>가변 상태를 참초하지 않는 클래스용 <code>clone</code> 메서드</em><br>
<br></p>
<p><code>Object</code>의 <code>clone</code>은 <code>Object</code>를 반환하지만 공변 반환 타입을 이용해서 <code>PhoneNumber</code>로 반환했습니다. 이 방식으로 사용하는 클라이언트는 형변환을 따로 해줄 필요가 없습니다.</p>
<p>간단했던 앞서의 구현이 클래스가 가변 객체를 참조하는 순간 문제점이 발생합니다.</p>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=kd>public</span> <span class=kd>class</span> <span class=nc>Stack</span> <span class=o>{</span>
    <span class=kd>private</span> <span class=n>Object</span><span class=o>[]</span> <span class=n>elements</span><span class=o>;</span>
    <span class=kd>private</span> <span class=kt>int</span> <span class=n>size</span> <span class=o>=</span> <span class=n>0</span><span class=o>;</span>
    <span class=kd>private</span> <span class=kd>static</span> <span class=kd>final</span> <span class=kt>int</span> <span class=n>DEFAULT_INITIAL_CAPACITY</span> <span class=o>=</span> <span class=n>16</span><span class=o>;</span>
    
    <span class=kd>public</span> <span class=nf>Stack</span><span class=o>()</span> <span class=o>{</span>
        <span class=k>this</span><span class=o>.</span><span class=na>elements</span> <span class=o>=</span> <span class=k>new</span> <span class=n>Object</span><span class=o>[</span><span class=n>DEFAULT_INITIAL_CAPACITY</span><span class=o>];</span>
    <span class=o>}</span>

    <span class=o>...</span> <span class=n>생략</span>
<span class=o>}</span>
</code></pre></td></tr></table>
</div>
</div><p><code>clone</code>메서드가 단순히 <code>super.clone</code>의 결과를 그대로 반환하면 <code>Stack</code>인스턴스의 <code>size</code> 필드는 올바른 값을 갖겠지만, <code>elements</code>필드는 원본 <code>Stack</code> 인스턴스와 똑같은 배열을 참조하게 되는 상황이 발생합니다.<br>
<br></p>
<p><code>clone</code>메서드는 사실상 생성자와 같은 효과를 냅니다. 즉 <code>clone</code>은 원본 객체에 아무런 변화가 없는 동시에 복제된 객체의 <span style=font-family:Roboto;font-size:1em;color:var(--main-color);font-weight:600;border:none;border-radius:0;padding:0>불변식</span>을 보장해야 합니다.</p>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=nd>@Override</span>
<span class=kd>public</span> <span class=n>PhoneNumber</span> <span class=nf>clone</span><span class=o>()</span> <span class=o>{</span>
    <span class=k>try</span><span class=o>{</span>
        <span class=n>Stack</span> <span class=n>result</span> <span class=o>=</span> <span class=o>(</span><span class=n>Stack</span><span class=o>)</span> <span class=kd>super</span><span class=o>.</span><span class=na>clone</span><span class=o>();</span>
        <span class=n>result</span><span class=o>.</span><span class=na>elements</span> <span class=o>=</span> <span class=n>elements</span><span class=o>.</span><span class=na>clone</span><span class=o>();</span>
        <span class=k>return</span> <span class=n>result</span><span class=o>;</span>
    <span class=o>}</span> <span class=k>catch</span> <span class=o>(</span><span class=n>CloneNotSupportedException</span> <span class=n>e</span><span class=o>)</span> <span class=o>{</span>
        <span class=k>throw</span> <span class=k>new</span> <span class=n>AssertionsError</span><span class=o>();</span>
    <span class=o>}</span>
<span class=o>}</span>
</code></pre></td></tr></table>
</div>
</div><p><i class=user-fa-action-info-outline aria-hidden=true></i> <em>가변 상태를 참조하는 클래스용 <code>clone</code> 메서드</em></p>
</div>
<footer class=post-footer data-animation=true><div class=post-license-info>
<a class=button rel=license href=https://creativecommons.org/licenses/by-sa/4.0/deed.ko target=_blank>
<img alt="Attribution-ShareAlike 4.0 International" src=https://i.creativecommons.org/l/by-sa/4.0/88x31.png>
</a>
<div class=license-descript>
이 저작물은 <a rel=license href=https://creativecommons.org/licenses/by-sa/4.0/deed.ko target=_blank>크리에이티브 커먼즈 저작자표시-동일조건변경허락 4.0 국제 라이선스</a>에 따라 이용할 수 있습니다.
</div>
</div>
<ul class=post-tags>
<li><a class=button href=https://qutrits.github.io/tags/java/ title=Java>Java</a></li>
<li><a class=button href=https://qutrits.github.io/tags/effective-java-3e/ title="Effective Java 3E">Effective Java 3E</a></li>
</ul>
<nav class=paginav>
<a class="prev button" href=https://qutrits.github.io/effective-java-3e/chapter-02/item12/>
<span class=title><svg style="vertical-align:-2px" stroke="currentcolor" fill="currentcolor" stroke-width="0" viewBox="0 0 24 24" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M15.41 7.41 14 6l-6 6 6 6 1.41-1.41L10.83 12z"/></svg><svg style="margin-left:-10px;vertical-align:-2px" stroke="currentcolor" fill="currentcolor" stroke-width="0" viewBox="0 0 24 24" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M15.41 7.41 14 6l-6 6 6 6 1.41-1.41L10.83 12z"/></svg>
이전 페이지
</span>
<br>
<span>[아이템 12] toString을 항상 재정의하라</span>
</a>
<a class="next button" href=https://qutrits.github.io/effective-java-3e/chapter-02/item14/>
<span class=title>
다음 페이지<svg style="margin-right:-10px;vertical-align:-2px" stroke="currentcolor" fill="currentcolor" stroke-width="0" viewBox="0 0 24 24" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"/></svg><svg style="vertical-align:-2px" stroke="currentcolor" fill="currentcolor" stroke-width="0" viewBox="0 0 24 24" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"/></svg>
</span>
<br>
<span>[아이템 14] Comparable를 구현할지 고려하라</span>
</a>
</nav>
<div class=share-buttons style=scroll-behavior:smooth>
<a target=_blank rel="noopener noreferrer" class="copylink button" id=copylink aria-label="share [아이템 13] clone 재정의는 주의해서 진행하라 on copylink" title="게시물 링크 복사하기"></a>
<a target=_blank rel="noopener noreferrer" class="kakaotalk button" id=kakaotalk-share aria-label="share [아이템 13] clone 재정의는 주의해서 진행하라 on kakaotalk" title="카카오톡 공유하기"><svg width="30" height="30" viewBox="0 0 24 24"><path d="M22.125.0H1.875C.8394.0.0.8394.0 1.875v20.25C0 23.1606.8394 24 1.875 24h20.25C23.1606 24 24 23.1606 24 22.125V1.875C24 .8394 23.1606.0 22.125.0zM12 18.75c-.591.0-1.1697-.0413-1.7317-.1209-.5626.3965-3.813 2.6797-4.1198 2.7225.0.0-.1258.0489-.2328-.0141s-.0876-.2282-.0876-.2282c.0322-.2198.8426-3.0183.992-3.5333-2.7452-1.36-4.5701-3.7686-4.5701-6.5135C2.25 6.8168 6.6152 3.375 12 3.375s9.75 3.4418 9.75 7.6875S17.3848 18.75 12 18.75zM8.0496 9.8672h-.8777v3.3417c0 .2963-.2523.5372-.5625.5372s-.5625-.2409-.5625-.5372V9.8672h-.8777c-.3044.0-.552-.2471-.552-.5508s.2477-.5508.552-.5508h2.8804c.3044.0.552.2471.552.5508s-.2477.5508-.552.5508zm10.9879 2.9566a.558.558.0 01.108.4167.5588.5588.0 01-.2183.371.5572.5572.0 01-.3383.1135.558.558.0 01-.4493-.2236l-1.3192-1.7479-.1952.1952v1.2273a.5635.5635.0 01-.5627.5628.563.563.0 01-.5625-.5625V9.3281c0-.3102.2523-.5625.5625-.5625s.5625.2523.5625.5625v1.209l1.5694-1.5694c.0807-.0807.1916-.1252.312-.1252.1404.0.2814.0606.3871.1661.0985.0984.1573.2251.1654.3566.0082.1327-.036.2542-.1241.3425l-1.2818 1.2817 1.3845 1.8344zm-8.3502-3.5023c-.095-.2699-.3829-.5475-.7503-.5557-.3663.0083-.6542.2858-.749.5551l-1.3455 3.5415c-.1708.5305-.0217.7272.1333.7988a.8568.8568.0 00.3576.0776c.2346.0.4139-.0952.4678-.2481l.2787-.7297 1.7152 1e-4.2785.7292c.0541.1532.2335.2484.4681.2484a.8601.8601.0 00.3576-.0775c.1551-.0713.3041-.2681.1329-.7999l-1.3449-3.5398zm-1.3116 2.4433.5618-1.5961.5618 1.5961H9.3757zm5.9056 1.3836c0 .2843-.2418.5156-.5391.5156h-1.8047c-.2973.0-.5391-.2314-.5391-.5156V9.3281c0-.3102.2576-.5625.5742-.5625s.5742.2523.5742.5625v3.3047h1.1953c.2974.0.5392.2314.5392.5156z"/></svg>
</a>
<a target=_blank rel="noopener noreferrer" class="kakaostory button" aria-label="share [아이템 13] clone 재정의는 주의해서 진행하라 on kakaostory" title="카카오 스토리 공유하기" href="https://story.kakao.com/share?url=https%3a%2f%2fqutrits.github.io%2feffective-java-3e%2fchapter-02%2fitem13%2f"><svg width="30" height="30" viewBox="0 0 16.226 16.226"><g><path d="M16.226 14.929c0 .71582-.58099 1.2968-1.2988 1.2968h-13.63c-.71582.0-1.2968-.58098-1.2968-1.2968V1.297C4e-4.58118.58139 2e-4 1.2972 2e-4h13.63c.7178.0 1.2988.58099 1.2988 1.2968z"/></g><path style="fill:var(--code-bg)" d="M10.749 7.4795V3.6307H5.4765v5.2765h2.439c-.232 1.3424-1.0351 2.3775-1.8619 2.9624l1.5348 1.5229c1.9056-1.279 3.1607-3.4463 3.1607-5.913"/></svg>
</a>
<a target=_blank rel="noopener noreferrer" class="naverblog button" aria-label="share [아이템 13] clone 재정의는 주의해서 진행하라 on naverblog" title="네이브 블로그/카페 공유하기" href="https://share.naver.com/web/shareView.nhn?url=https%3a%2f%2fqutrits.github.io%2feffective-java-3e%2fchapter-02%2fitem13%2f&title=%5b%ec%95%84%ec%9d%b4%ed%85%9c%2013%5d%20clone%20%ec%9e%ac%ec%a0%95%ec%9d%98%eb%8a%94%20%ec%a3%bc%ec%9d%98%ed%95%b4%ec%84%9c%20%ec%a7%84%ed%96%89%ed%95%98%eb%9d%bc"><svg width="30" height="30" viewBox="0 0 24 24"><path d="M1.6.0S0 0 0 1.6v20.8S0 24 1.6 24h20.8s1.6.0 1.6-1.6V1.6S24 0 22.4.0zm3.415 5.6h4.78l4.425 6.458V5.6h4.765v12.8h-4.78L9.78 11.943V18.4H5.015z"/></svg>
</a>
<a target=_blank rel="noopener noreferrer" class="naverband button" aria-label="share [아이템 13] clone 재정의는 주의해서 진행하라 on naverband" title="네이버 밴드 공유하기" href="https://band.us/plugin/share?url=https%3a%2f%2fqutrits.github.io%2feffective-java-3e%2fchapter-02%2fitem13%2f&title=%5b%ec%95%84%ec%9d%b4%ed%85%9c%2013%5d%20clone%20%ec%9e%ac%ec%a0%95%ec%9d%98%eb%8a%94%20%ec%a3%bc%ec%9d%98%ed%95%b4%ec%84%9c%20%ec%a7%84%ed%96%89%ed%95%98%eb%9d%bc"><svg width="30" height="30" viewBox="0 0 79.375 79.374"><path d="M147.5 684.67c-20.294.0-36.747-16.452-36.747-36.746v-104c0-20.295 16.453-36.747 36.747-36.747h104c20.295.0 36.747 16.452 36.747 36.747v104c0 20.294-16.452 36.746-36.747 36.746z" transform="matrix(.4472 0 0 -.4472 -49.529 306.18)"/><g clip-path="url(#b)" transform="matrix(.4472 0 0 -.4472 -49.529 306.18)"><path style="fill:var(--code-bg)" d="M186.89 582.48c0 6.966 5.647 12.614 12.614 12.614 6.966.0 12.614-5.648 12.614-12.614s-5.648-12.613-12.614-12.613c-6.967.0-12.614 5.647-12.614 12.613m12.614-43.152c-23.832.0-43.152 19.32-43.152 43.152v58.587c0 6.325 5.127 11.452 11.452 11.452 6.324.0 11.452-5.127 11.452-11.452V582.48c0-11.183 9.065-20.248 20.248-20.248 11.182.0 20.248 9.065 20.248 20.248s-9.066 20.249-20.248 20.249c-4.77.0-9.154-1.651-12.614-4.41v9.031c3.788 1.926 8.073 3.013 12.614 3.013 15.399.0 27.883-12.484 27.883-27.883s-12.484-27.883-27.883-27.883c-15.4.0-27.883 12.484-27.883 27.883v58.587c0 2.108-1.709 3.817-3.817 3.817s-3.818-1.709-3.818-3.817V582.48c0-19.616 15.902-35.517 35.518-35.517 19.615.0 35.517 15.901 35.517 35.517s-15.902 35.518-35.517 35.518c-4.443.0-8.694-.817-12.614-2.308v8.066c3.99 1.219 8.225 1.876 12.614 1.876 23.832.0 43.152-19.319 43.152-43.152.0-23.832-19.32-43.152-43.152-43.152m0 93.939c-4.355.0-8.581-.55-12.614-1.581v9.381c0 10.541-8.545 19.087-19.086 19.087s-19.087-8.546-19.087-19.087V582.48c0-28.048 22.738-50.786 50.787-50.786s50.786 22.738 50.786 50.786c0 28.049-22.737 50.787-50.786 50.787"/></g></svg>
</a>
<a target=_blank rel="noopener noreferrer" class="twitter button" aria-label="share [아이템 13] clone 재정의는 주의해서 진행하라 on twitter" title="트위터 공유하기" href="https://twitter.com/intent/tweet/?text=%5b%ec%95%84%ec%9d%b4%ed%85%9c%2013%5d%20clone%20%ec%9e%ac%ec%a0%95%ec%9d%98%eb%8a%94%20%ec%a3%bc%ec%9d%98%ed%95%b4%ec%84%9c%20%ec%a7%84%ed%96%89%ed%95%98%eb%9d%bc&url=https%3a%2f%2fqutrits.github.io%2feffective-java-3e%2fchapter-02%2fitem13%2f&hashtags=Java%2cEffectiveJava3E"><svg width="30" height="30" viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM195.519 424.544c135.939.0 210.268-112.643 210.268-210.268.0-3.218.0-6.437-.153-9.502 14.406-10.421 26.973-23.448 36.935-38.314-13.18 5.824-27.433 9.809-42.452 11.648 15.326-9.196 26.973-23.602 32.49-40.92-14.252 8.429-30.038 14.56-46.896 17.931-13.487-14.406-32.644-23.295-53.946-23.295-40.767.0-73.87 33.104-73.87 73.87.0 5.824.613 11.494 1.992 16.858-61.456-3.065-115.862-32.49-152.337-77.241-6.284 10.881-9.962 23.601-9.962 37.088.0 25.594 13.027 48.276 32.95 61.456-12.107-.307-23.448-3.678-33.41-9.196v.92c0 35.862 25.441 65.594 59.311 72.49-6.13 1.686-12.72 2.606-19.464 2.606-4.751.0-9.348-.46-13.946-1.38 9.349 29.426 36.628 50.728 68.965 51.341-25.287 19.771-57.164 31.571-91.8 31.571-5.977.0-11.801-.306-17.625-1.073 32.337 21.15 71.264 33.41 112.95 33.41z"/></svg>
</a>
<a target=_blank rel="noopener noreferrer" class="facebook button" aria-label="share [아이템 13] clone 재정의는 주의해서 진행하라 on facebook" title="페이스북 공유하기" href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fqutrits.github.io%2feffective-java-3e%2fchapter-02%2fitem13%2f"><svg width="30" height="30" viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg>
</a>
<a target=_blank rel="noopener noreferrer" class="telegram button" aria-label="share [아이템 13] clone 재정의는 주의해서 진행하라 on telegram" title="텔레그램 공유하기" href="https://telegram.me/share/url?text=%5b%ec%95%84%ec%9d%b4%ed%85%9c%2013%5d%20clone%20%ec%9e%ac%ec%a0%95%ec%9d%98%eb%8a%94%20%ec%a3%bc%ec%9d%98%ed%95%b4%ec%84%9c%20%ec%a7%84%ed%96%89%ed%95%98%eb%9d%bc&url=https%3a%2f%2fqutrits.github.io%2feffective-java-3e%2fchapter-02%2fitem13%2f"><svg width="30" height="30" viewBox="2 2 28 28"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47 3.38 3.38.0 01-2.51 1.02zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg>
</a>
</div>
<script>const shareIcons_DOMReady=function(a){document.readyState==="interactive"||document.readyState==="complete"?a():document.addEventListener("DOMContentLoaded",a)};shareIcons_DOMReady(function(){const b=document.getElementById("copylink");e();function e(){b.innerHTML='\u003csvg width=\u002230px\u0022 height=\u002230px\u0022 viewBox=\u00220 0 24 24\u0022 class=\u0022button custom-button\u0022\u003e\u003cpath d=\u0022M21.586 10.461l-10.05 10.075c-1.95 1.949-5.122 1.949-7.071 0s-1.95-5.122 0-7.072l10.628-10.585c1.17-1.17 3.073-1.17 4.243 0 1.169 1.17 1.17 3.072 0 4.242l-8.507 8.464c-.39.39-1.024.39-1.414 0s-.39-1.024 0-1.414l7.093-7.05-1.415-1.414-7.093 7.049c-1.172 1.172-1.171 3.073 0 4.244s3.071 1.171 4.242 0l8.507-8.464c.977-.977 1.464-2.256 1.464-3.536 0-2.769-2.246-4.999-5-4.999-1.28 0-2.559.488-3.536 1.465l-10.627 10.583c-1.366 1.368-2.05 3.159-2.05 4.951 0 3.863 3.13 7 7 7 1.792 0 3.583-.684 4.95-2.05l10.05-10.075-1.414-1.414z\u0022\u003e\u003c/path\u003e\u003c/svg\u003e',b.addEventListener("click",()=>{if('clipboard'in navigator){navigator.clipboard.writeText('https://qutrits.github.io/effective-java-3e/chapter-02/item13/'),d();return}const a=document.createRange();a.selectNodeContents('https://qutrits.github.io/effective-java-3e/chapter-02/item13/');const b=window.getSelection();b.removeAllRanges(),b.addRange(a);try{document.execCommand('copy'),d()}catch(a){}b.removeRange(a)})}function d(){b.innerHTML='\u003csvg aria-hidden=\u0022true\u0022 width=\u002230px\u0022 height=\u002230px\u0022 viewBox=\u00220 0 16 16\u0022 version=\u00221.1\u0022 data-view-component=\u0022true\u0022 class=\u0022octicon-check\u0022\u003e\u003cpath fill-rule=\u0022evenodd\u0022 d=\u0022M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z\u0022\u003e\u003c/path\u003e\u003c/svg\u003e',setTimeout(()=>{b.innerHTML='\u003csvg width=\u002230px\u0022 height=\u002230px\u0022 viewBox=\u00220 0 24 24\u0022 class=\u0022button custom-button\u0022\u003e\u003cpath d=\u0022M21.586 10.461l-10.05 10.075c-1.95 1.949-5.122 1.949-7.071 0s-1.95-5.122 0-7.072l10.628-10.585c1.17-1.17 3.073-1.17 4.243 0 1.169 1.17 1.17 3.072 0 4.242l-8.507 8.464c-.39.39-1.024.39-1.414 0s-.39-1.024 0-1.414l7.093-7.05-1.415-1.414-7.093 7.049c-1.172 1.172-1.171 3.073 0 4.244s3.071 1.171 4.242 0l8.507-8.464c.977-.977 1.464-2.256 1.464-3.536 0-2.769-2.246-4.999-5-4.999-1.28 0-2.559.488-3.536 1.465l-10.627 10.583c-1.366 1.368-2.05 3.159-2.05 4.951 0 3.863 3.13 7 7 7 1.792 0 3.583-.684 4.95-2.05l10.05-10.075-1.414-1.414z\u0022\u003e\u003c/path\u003e\u003c/svg\u003e'},2e3)}document.getElementById("kakaotalk-share").addEventListener("click",()=>{Kakao.Link.sendDefault({objectType:"feed",content:{title:'[아이템 13] clone 재정의는 주의해서 진행하라',description:'Java,EffectiveJava3E',imageUrl:'https://qutrits.github.io/icon/favicon.png',link:{mobileWebUrl:'https://qutrits.github.io/effective-java-3e/chapter-02/item13/',webUrl:'https://qutrits.github.io/effective-java-3e/chapter-02/item13/'}},success:function(a){},fail:function(a){}})});const a=document.querySelector(".main .post-single .post-footer .share-buttons"),f=(a,b)=>b==="vertical"?a.scrollHeight===0&&a.clientHeight===0||a.scrollHeight>a.clientHeight:b==="horizontal"?a.scrollWidth===0&&a.clientWidth===0||a.scrollWidth>a.clientWidth:(a.scrollHeight===0&&a.clientHeight===0||a.scrollHeight>a.clientHeight)&&(a.scrollWidth===0&&a.clientWidth===0||a.scrollWidth>a.clientWidth);a.scrollWidth>a.clientWidth&&(a.scrollLeft<=5?(a.classList.remove("linear-gradient-both","linear-gradient-left"),a.classList.add("linear-gradient-right")):a.scrollWidth-a.clientWidth-5<=a.scrollLeft?(a.classList.remove("linear-gradient-both","linear-gradient-right"),a.classList.add("linear-gradient-left")):(a.classList.remove("linear-gradient-left","linear-gradient-right"),a.classList.add("linear-gradient-both"))),a.addEventListener?(a.addEventListener("mousewheel",c,!1),a.addEventListener("DOMMouseScroll",c,!1)):a.attachEvent("onmousewheel",c);function c(c){if(!f(a,"horizontal"))return;let b=window.event||c;b.preventDefault();let d=Math.max(-1,Math.min(1,b.wheelDelta||-b.detail));return g(a,"horizontal",a.scrollLeft-=d*500,1),!1}const g=(a,b,c,d)=>{const e=b==="vertical"?a.scrollTop:a.scrollLeft,f=c-e,i=+new Date,g=(d,b,c,e)=>{let a=d;return a/=e/2,a<1?c/2*a*a+b:(a-=1,-c/2*(a*(a-2)-1)+b)},h=()=>{const k=+new Date,j=k-i;b==="vertical"?a.scrollTop=parseInt(g(j,e,f,d),10):a.scrollLeft=parseInt(g(j,e,f,d),10),j<d?requestAnimationFrame(h):b==="vertical"?a.scrollTop=c:a.scrollLeft=c};h()};window.addEventListener("resize",b=>{a.scrollWidth>a.clientWidth?a.scrollLeft<=5?(a.classList.remove("linear-gradient-both","linear-gradient-left"),a.classList.add("linear-gradient-right")):a.scrollWidth-a.clientWidth-5<=a.scrollLeft?(a.classList.remove("linear-gradient-both","linear-gradient-right"),a.classList.add("linear-gradient-left")):(a.classList.remove("linear-gradient-left","linear-gradient-right"),a.classList.add("linear-gradient-both")):a.classList.remove("linear-gradient-both","linear-gradient-left","linear-gradient-right")}),a.addEventListener("scroll",b=>{a.scrollLeft<=5?(a.classList.remove("linear-gradient-both","linear-gradient-left"),a.classList.add("linear-gradient-right")):a.scrollWidth-a.clientWidth-5<=a.scrollLeft?(a.classList.remove("linear-gradient-both","linear-gradient-right"),a.classList.add("linear-gradient-left")):(a.classList.remove("linear-gradient-left","linear-gradient-right"),a.classList.add("linear-gradient-both"))})})</script>
</footer><div class=comments-button-wrapper id=comments-button data-animation=true>
<div class="comments-button button">댓글 보기</div>
</div>
<script>const comments_DOMReady=function(a){document.readyState==="interactive"||document.readyState==="complete"?a():document.addEventListener("DOMContentLoaded",a)};comments_DOMReady(function(){const a=document.querySelector(".main .post-single .post-content"),b=document.querySelector(".main .post-single .post-footer"),c=document.querySelector(".main .post-single #comments-button"),f=a.offsetHeight+a.offsetTop+a.offsetParent.offsetTop;let d=!1;window.addEventListener("scroll",()=>{d||window.pageYOffset+window.innerHeight>f&&(d=!0,c.parentNode.removeChild(c),e(!0,b),g(b,e))});function g(c,d){let b="preferred-color-scheme";localStorage.getItem("pref-theme")===null?window.matchMedia('(prefers-color-scheme: dark)').matches?b="github-dark":b="github-light":localStorage.getItem("pref-theme")==="dark"?b="github-dark":b="github-light";const e='qutrits/blog-comments',f='pathname',a=document.createElement('script');a.setAttribute("src","https://utteranc.es/client.js"),a.setAttribute("repo",e),a.setAttribute("issue-term",f),a.setAttribute("theme",b),a.setAttribute("crossorigin","anonymous"),a.onload=d,c.parentNode.insertBefore(a,c.nextSibling)}function e(b,a){if(b===!0){const b=document.createElement("div");b.id="loading-indicator",b.innerHTML='<div class="spinner"></div>',a.parentNode.insertBefore(b,a.nextSibling)}else{const a=document.getElementById("loading-indicator");a.classList.add("scale-zero")}}})</script>
</article>
<script>const single_DOMReady=function(a){document.readyState==="interactive"||document.readyState==="complete"?a():document.addEventListener("DOMContentLoaded",a)};single_DOMReady(function(){let c=0,g=0;const h=document.querySelector(".progress-bar-container__progress"),b=document.querySelector("header.header"),e="header-bottom",f="header-background",d=-100;let a=0;window.pageYOffset>b.offsetHeight&&(a=d),window.addEventListener("scroll",()=>{c=window.pageYOffset,c<=0?(b.style.transform="translateY(0%)",b.classList.contains(e)&&b.classList.remove(e),b.classList.contains(f)&&b.classList.remove(f)):(c>g?d<a&&(c-g>60?a=d:(a-=15,a<d&&(a=d))):0>a&&(g-c>60?a=0:(a+=15,a>0&&(a=0))),a===-100?h.style.top="":h.style.top=b.clientHeight-1+"px",b.style.transform=`translateY(${a}%)`,b.classList.contains(e)||b.classList.add(e),b.classList.contains(f)||b.classList.add(f)),g=c}),window.onload=function(){const a=document.querySelectorAll(".post-content .highlight td:nth-child(2) pre code.hljs");for(let b=0;b<a.length;b++)a[b].style.width="100%"}})</script>
</main>
<footer class=footer>
<span>&copy; 2023 <a href=https://qutrits.github.io/><span class=user-fa-hardware-keyboard-arrow-right></span>ssh qutrits@localhost<span class=__cursor></span></a></span>
<span>
Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
    <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a>
</span>
<span>
· Source code on
<a href=https://github.com/qutrits/qutrits.github.io rel="noopener noreferrer" target=_blank>GitHub</a>
</span>
</footer>
<div class=aside-font-size-button id=aside-font-size-button style=visibility:hidden>
<span class=aside-display-font-size-info>100%</span>
<a id=aside-font-size-increase aria-label="글꼴 크기 늘리기" title="글꼴 크기 늘리기 (Alt + V)" accesskey=v><svg class="button increase" width="24" height="24" viewBox="0 0 24 24"><path d="M5.12 14 7.5 7.67 9.87 14M6.5 5 1 19H3.25l1.12-3h6.25l1.13 3H14L8.5 5h-2M18 7l-5 5.07 1.41 1.43L17 10.9V17h2V10.9l2.59 2.6L23 12.07 18 7z"/></svg>
</a>
<a id=aside-font-size-decrease aria-label="글꼴 크기 줄이기" title="글꼴 크기 줄이기 (Alt + B)" accesskey=b><svg class="button decrease" width="24" height="24" viewBox="0 0 24 24"><path d="M5.12 14 7.5 7.67 9.87 14M6.5 5 1 19H3.25l1.12-3h6.25l1.13 3H14L8.5 5h-2M18 17l5-5.07-1.41-1.43L19 13.1V7H17v6.1l-2.59-2.6L13 11.93 18 17z"/></svg>
</a>
<a id=aside-font-size-default aria-label="글꼴 크기 재설정" title="글꼴 크기 재설정 (Alt + N)" accesskey=n><svg class="button default" width="24" height="24" viewBox="0 0 24 24"><path d="M7.20711 2.54289c.39052.39053.39052 1.02369.0 1.41422L5.41421 5.75H13.25c4.4183.0 8 3.58172 8 8 0 4.4183-3.5817 8-8 8-4.41828.0-8-3.5817-8-8 0-.552300000000001.44772-1 1-1s1 .447699999999999 1 1c0 3.3137 2.68629 6 6 6 3.3137.0 6-2.6863 6-6s-2.6863-6-6-6H5.41421l1.7929 1.79289c.39052.39053.39052 1.02371.0 1.41421C6.81658 11.3476 6.18342 11.3476 5.79289 10.9571l-3.5-3.49999c-.39052-.39053-.39052-1.02369.0-1.41422l3.5-3.5c.39053-.39052 1.02369-.39052 1.41422.0z" fill="#212121"/></svg>
</a>
</div>
<a href=#top aria-label="맨 위로 이동" title="맨 위로 이동 (Alt + G)" class="top-link button" id=top-link accesskey=g style=visibility:hidden><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" fill="currentcolor"><path d="M414 321.94 274.22 158.82a24 24 0 00-36.44.0L98 321.94c-13.34 15.57-2.28 39.62 18.22 39.62h279.6c20.5.0 31.56-24.05 18.18-39.62z"/></svg>
</a>
<script>const footer_DOMReady=function(a){document.readyState==="interactive"||document.readyState==="complete"?a():document.addEventListener("DOMContentLoaded",a)};footer_DOMReady(function(){let c=document.getElementById('menu');c&&(c.scrollLeft=localStorage.getItem("menu-scroll-position"),c.onscroll=function(){localStorage.setItem("menu-scroll-position",c.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(a=>{a.addEventListener("click",function(b){b.preventDefault();const a=this.getAttribute("href").substr(1);window.matchMedia('(prefers-reduced-motion: reduce)').matches?document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView({behavior:"auto"}),a==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${a}`)})});const b=document.querySelector(".main .post-single .post-content");if(b){const a=document.getElementById("aside-font-size-button"),h=a.querySelector("#aside-font-size-increase"),f=a.querySelector("#aside-font-size-decrease"),g=a.querySelector("#aside-font-size-default"),c=document.querySelector(".display-font-size-info"),d=a.querySelector(".aside-display-font-size-info"),j=document.querySelector(".post-single .post-header .post-meta .post-footer"),e=document.querySelector(".post-header"),i=e.offsetHeight+e.offsetTop+e.offsetParent.offsetTop-1;window.addEventListener("scroll",()=>{const b=Math.ceil(window.pageYOffset+window.innerHeight)>=document.body.scrollHeight;i<window.pageYOffset?b&&window.innerWidth<769?(a.style.visibility="hidden",a.style.opacity="0"):(a.style.visibility="visible",a.style.opacity="1"):(a.style.visibility="hidden",a.style.opacity="0")}),h.addEventListener("click",function(){if(localStorage.getItem("post-content-font-size")){let a=parseInt(localStorage.getItem("post-content-font-size"));if(a+5>200)return;b.style.fontSize=a+10+"%",c.innerText=a+10+"%",d.innerText=a+10+"%",localStorage.setItem("post-content-font-size",a+10)}else b.style.fontSize="110%",c.innerText="110%",d.innerText="110%",localStorage.setItem("post-content-font-size",110)}),f.addEventListener("click",function(){if(localStorage.getItem("post-content-font-size")){let a=parseInt(localStorage.getItem("post-content-font-size"));if(a-5<50)return;b.style.fontSize=a-10+"%",c.innerText=a-10+"%",d.innerText=a-10+"%",localStorage.setItem("post-content-font-size",a-10)}else b.style.fontSize="90%",c.innerText="90%",d.innerText="90%",localStorage.setItem("post-content-font-size",90)}),g.addEventListener("click",function(){b.style.fontSize="100%",c.innerText="100%",d.innerText="100%",localStorage.setItem("post-content-font-size",100)})}const d=document.querySelector(".post-content"),a=document.getElementById("top-link");window.onscroll=function(){if(d){const b=d.getBoundingClientRect(),c=b.top;0>=c?(a.style.visibility="visible",a.style.opacity="1"):(a.style.visibility="hidden",a.style.opacity="0")}else window.pageYOffset>300?(a.style.visibility="visible",a.style.opacity="1"):(a.style.visibility="hidden",a.style.opacity="0")},document.getElementById("theme-toggle").addEventListener("click",()=>{document.getElementById("theme-toggle").dataset.toggle="true",document.body.className.includes("dark")?(document.body.classList.remove('dark'),localStorage.setItem("pref-theme",'light')):(document.body.classList.add('dark'),localStorage.setItem("pref-theme",'dark'))}),document.getElementById("theme-toggle").addEventListener("blur",a=>{document.getElementById("theme-toggle").dataset.toggle="false"}),document.querySelectorAll('pre > code').forEach(b=>{const c=b.parentNode.parentNode,a=document.createElement('button');a.classList.add('copy-code'),a.innerHTML='\u003cspan class=\u0022octicon\u0022\u003e\u003csvg aria-hidden=\u0022true\u0022 height=\u002216\u0022 viewBox=\u00220 0 16 16\u0022 version=\u00221.1\u0022 width=\u002216\u0022 data-view-component=\u0022true\u0022 class=\u0022octicon-copy\u0022\u003e\u003cpath fill-rule=\u0022evenodd\u0022 d=\u0022M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z\u0022\u003e\u003c/path\u003e\u003cpath fill-rule=\u0022evenodd\u0022 d=\u0022M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z\u0022\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/span\u003e';function d(){a.classList.add('done'),a.innerHTML='\u003cdiv class=\u0022tooltip bottom\u0022\u003e복사됨!\u003c/div\u003e\u003cspan class=\u0022octicon done\u0022\u003e\u003csvg fill=\u0022var(--main-color)\u0022 aria-hidden=\u0022true\u0022 height=\u002216\u0022 viewBox=\u00220 0 16 16\u0022 version=\u00221.1\u0022 width=\u002216\u0022 data-view-component=\u0022true\u0022 class=\u0022octicon-check\u0022\u003e\u003cpath fill-rule=\u0022evenodd\u0022 d=\u0022M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z\u0022\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/span\u003e',setTimeout(()=>{a.classList.remove('done'),a.innerHTML='\u003cspan class=\u0022octicon\u0022\u003e\u003csvg aria-hidden=\u0022true\u0022 height=\u002216\u0022 viewBox=\u00220 0 16 16\u0022 version=\u00221.1\u0022 width=\u002216\u0022 data-view-component=\u0022true\u0022 class=\u0022octicon-copy\u0022\u003e\u003cpath fill-rule=\u0022evenodd\u0022 d=\u0022M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z\u0022\u003e\u003c/path\u003e\u003cpath fill-rule=\u0022evenodd\u0022 d=\u0022M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z\u0022\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/span\u003e'},2e3)}a.addEventListener('click',e=>{if('clipboard'in navigator){navigator.clipboard.writeText(b.textContent),d();return}const a=document.createRange();a.selectNodeContents(b);const c=window.getSelection();c.removeAllRanges(),c.addRange(a);try{document.execCommand('copy'),d()}catch(a){}c.removeRange(a)}),c.classList.contains("highlight")?c.appendChild(a):c.parentNode.firstChild==c||(b.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?b.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(a):b.parentNode.appendChild(a))})})</script></body>
</html>