if(window.location.pathname.startsWith("/posts/")){function series_toggle(b,c){const a=document.querySelector(".post-single .series-main .series-list");a.style.display==="none"||a.style.display===""?(localStorage.setItem("lock-series-"+c,!1),b.innerText="ðŸ”“",a.style.display="block"):a.style.display==="block"&&(localStorage.setItem("lock-series-"+c,!0),b.innerText="ðŸ”’",a.style.display="none")}let c=!1;const b=document.querySelector(".main .post-single>.toc"),d=document.querySelector(".main .toc.aside details"),e=document.querySelectorAll(".post-content .highlight td:nth-child(2) pre code.hljs");let a=[];const f=function(a){document.readyState==="interactive"||document.readyState==="complete"?a():document.addEventListener("DOMContentLoaded",a)};f(function(){const m=b?b.offsetTop+b.offsetParent.offsetTop-1:0,h=document.querySelector("header.header"),i=document.querySelector(".main .toc");function q(){let a=s.scrollHeight-t(p)-window.innerHeight,b=g,c=b/a*100;p.style.width=c+"%"}function t(a){var e=a.offsetHeight,b=document.body.offsetHeight,c=a.getBoundingClientRect(),d=c.top,f=c.bottom;return Math.max(0,d>0?Math.min(e,b-d):Math.min(f,b))}const s=document.querySelector("html"),v=document.querySelector("body"),r=document.createElement("div");r.classList.add("progress-bar-container__progress"),v.prepend(r);const p=document.querySelector(".progress-bar-container__progress");var u={childList:!0,subtree:!0,characterData:!0,attributes:!0};if(new MutationObserver(q).observe(p,u),i!==null){const b=i.cloneNode(!0);b.classList.add("aside");const e=b.querySelectorAll(".inner ul>li");for(let b=0;b<e.length;b++)a[b]=decodeURI(e[b].firstElementChild.hash.substring(1));m<window.pageYOffset?b.classList.add("reveal"):m>=window.pageYOffset&&b.classList.add("hide");const f=b.querySelector("details summary .details"),c=document.createElement("span");let d=null;localStorage.getItem("lock-aside-toc-"+window.location.pathname)==="true"?(b.querySelector("details").removeAttribute("open"),d=document.createTextNode("ðŸ”’")):(b.querySelector("details").setAttribute("open",""),d=document.createTextNode("ðŸ”“")),c.appendChild(d),c.classList.add("tocLock"),f.prepend(c),b.querySelector("details summary").addEventListener("click",a=>{a.target.querySelector(".tocLock")===null?a.target.innerText==="ðŸ”“"?(localStorage.setItem("lock-aside-toc-"+window.location.pathname,!0),a.target.innerText="ðŸ”’"):(localStorage.setItem("lock-aside-toc-"+window.location.pathname,!1),a.target.innerText="ðŸ”“"):a.target.querySelector(".tocLock").innerText==="ðŸ”“"?(localStorage.setItem("lock-aside-toc-"+window.location.pathname,!0),a.target.querySelector(".tocLock").innerText="ðŸ”’"):(localStorage.setItem("lock-aside-toc-"+window.location.pathname,!1),a.target.querySelector(".tocLock").innerText="ðŸ”“")}),i.parentNode.insertBefore(b,i.nextSibling)}const f=document.querySelector(".main .toc.aside"),k="scroll-up",j="scroll-down";let l=null,n=null,o=0,g=0;if(window.addEventListener("scroll",()=>{for(let a=0;a<e.length;a++){if(c)break;e[a].style.width="100%"}if(c=!0,g=window.pageYOffset,q(),g<=0&&!h.classList.contains(k)){h.classList.remove(j),h.classList.add(k);return}if(g<=10){h.classList.remove(k);return}if(g>80&&(g>o&&!h.classList.contains(j)?(h.classList.remove(k),h.classList.add(j)):g<o&&h.classList.contains(j)&&(h.classList.remove(j),h.classList.add(k))),i!==null){m<g&&f.classList.contains("hide")?(f.classList.remove("hide"),f.classList.add("reveal")):m>=g&&f.classList.contains("reveal")&&(f.scrollTop=0,f.classList.remove("reveal"),f.classList.add("hide"));const b=f.querySelectorAll(".inner ul>li");let c=null,d=null;if(a.map((e,a)=>{d=document.getElementById(e),d.offsetTop+d.offsetParent.offsetTop-1<=g&&(l=b[a],c=a)}),c!==null){let d=Math.ceil(g+window.innerHeight)>=document.body.scrollHeight;if(d){for(let a=0;a<b.length;a++){if(!b[a].classList.contains("selected"))continue;b[a].classList.remove("selected")}b[a.length-1].classList.add("selected"),n=b[a.length-1]}else{if(l===n&&c>0)return;for(let a=0;a<b.length;a++){if(!b[a].classList.contains("selected"))continue;b[a].classList.remove("selected")}l.classList.add("selected"),n=l}c!==null&&f.scroll({behavior:'smooth',top:c*20})}else{if(f.querySelector(".selected")===null)return;for(let a=0;a<b.length;a++){if(!b[a].classList.contains("selected"))continue;b[a].classList.remove("selected")}}}o=g}),d!==null){const b=new MutationObserver((b,c)=>{if(b[0].oldValue!==null)return;for(let b=0;b<a.length;b++){let d=document.getElementById(a[b]),c=document.getElementById(a[b+1]);if(c!==null&&window.pageYOffset>=d.offsetTop+d.offsetParent.offsetTop-1&&window.pageYOffset<c.offsetTop+c.offsetParent.offsetTop-1){let c=Math.ceil(window.pageYOffset+window.innerHeight)>=document.body.scrollHeight;f.querySelectorAll(".inner ul>li")[b+1].classList.contains("selected")&&f.querySelectorAll(".inner ul>li")[b+1].classList.remove("selected"),c?(f.querySelectorAll(".inner ul>li")[a.length-1].classList.add("selected"),f.scrollTop=(a.length-1)*20):(f.querySelectorAll(".inner ul>li")[b].classList.add("selected"),f.scrollTop=b*20)}}});b.observe(d,{attributes:!0,attributeOldValue:!0,attributeFilter:["open"]})}}),window.onload=function(){const c=b?b.offsetTop+b.offsetParent.offsetTop-1:0;if(c<window.pageYOffset){const b=document.querySelectorAll(".main .toc.aside .inner ul>li");for(let c=0;c<a.length;c++){let e=document.getElementById(a[c]),d=document.getElementById(a[c+1]);d!==null&&window.pageYOffset>=e.offsetTop+e.offsetParent.offsetTop-1&&window.pageYOffset<d.offsetTop+d.offsetParent.offsetTop-1&&(b[c+1]!==null&&b[c+1].classList.remove("selected"),b[c].classList.add("selected"),document.querySelector(".main .toc.aside").scrollTop=c*20)}}}}else if(window.location.pathname.startsWith("/archives/"))function archives_toggle(a,d){const b=document.getElementById(a),c=d.querySelector(".toggle");b.style.display==="none"||b.style.display===""?(console.log("lock-archives-"+a),localStorage.setItem("lock-archives-"+a,!1),c.innerText="ðŸ“‚",b.style.display="block"):b.style.display==="block"&&(console.log("lock-archives-"+a),localStorage.setItem("lock-archives-"+a,!0),c.innerText="ðŸ“",b.style.display="none")}